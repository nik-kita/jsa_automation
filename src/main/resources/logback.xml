<configuration>

    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <withJansi>true</withJansi>
        <!-- encoders are assigned the type
             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default -->
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %X{testClass} %X{test} %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

<!--================================================ Gmail ==================================================-->
    <appender name="gmail" class="ch.qos.logback.classic.net.SMTPAppender">

        <evaluator class="ch.qos.logback.classic.boolex.JaninoEventEvaluator">
            <expression>
                DEBUG >= level || level >= DEBUG
            </expression>
        </evaluator>

        <smtpHost>smtp.gmail.com</smtpHost>
        <smtpPort>587</smtpPort>
        <STARTTLS>true</STARTTLS>
        <asynchronousSending>false</asynchronousSending>
        <username>volsknik@gmail.com</username>
        <password>nik0089711kita</password>
        <to>volsknik@gmail.com</to>
        <from>volsknik@gmail.com</from>
        <subject>Test email appender</subject>

        <cyclicBufferTracker class="ch.qos.logback.core.spi.CyclicBufferTracker">
            <bufferSize>1000</bufferSize>
        </cyclicBufferTracker>

        <layout class="ch.qos.logback.classic.html.HTMLLayout"/>
    </appender>

<!--    ======================================================  DB  =====================================================-->
    <appender name="mysql" class="ch.qos.logback.classic.db.DBAppender">
        <connectionSource class="ch.qos.logback.core.db.DataSourceConnectionSource">
            <dataSource class="com.mysql.cj.jdbc.MysqlDataSource">
                <serverName>127.0.0.1</serverName>
                <port>3306</port>
                <databaseName>jsa</databaseName>
                <user>nikita</user>
                <password>strongpassword</password>
            </dataSource>
        </connectionSource>
    </appender>





<!--=================================================   L O G G E R S   ==================================================-->
<!--=================================================   L O G G E R S   ==================================================-->
<!--=================================================   L O G G E R S   ==================================================-->
    <logger name="ui" level="INFO">
        <appender-ref ref="STDOUT"/>
    </logger>
    <logger name="automation" level="INFO">
        <appender-ref ref="STDOUT" />
    </logger>
    <logger name="test_engine" level="INFO">
        <appender-ref ref="STDOUT" />
    </logger>

    <root level="TRACE">
        <appender-ref ref="mysql"/>
    </root>
</configuration>